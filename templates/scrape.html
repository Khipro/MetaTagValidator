{% extends 'layout.html' %}

{% block body %}

<!-- Results Heading-->
<div class="container">
  <div class="row">
    <div class="col">
          <h3 class="display-6">Test Results</h3>
          <!--<hr class="border border-primary" width="95%" ></hr>-->
    </div>
  </div>
</div>  

<!-- This is for the accordian display dropdown function-->
<div class="container">
  <div class="row">
    <div class="col"> 
      <div class="form-group">
        <head>
          <script>
              $(document).ready(function(){
                  // Add minus icon for collapse element which is open by default
                  $(".collapse.show").each(function(){
                    $(this).prev(".card-header").find(".fa").addClass("fa-minus").removeClass("fa-plus");
                  });
                  
                  // Toggle plus minus icon on show hide of collapse element
                  $(".collapse").on('show.bs.collapse', function(){
                    $(this).prev(".card-header").find(".fa").removeClass("fa-plus").addClass("fa-minus");
                  }).on('hide.bs.collapse', function(){
                    $(this).prev(".card-header").find(".fa").removeClass("fa-minus").addClass("fa-plus");
                  });
              });
          </script>
        </head>

        <!-- This is the display in container-->
          
          <body>
            <div class="bs-example">
              <div class="accordion" id="accordionExample">
                <div class="card">
                  <div class="card-header" id="headingOne">
                    <h2 class="mb-0">
                      <button type="button" class="btn btn-link" data-toggle="collapse" data-target="#collapseOne"><i class="fa fa-plus"></i> Show tested code</button>									
                        </h2>
                  </div>
                    <div id="collapseOne" class="collapse" aria-labelledby="headingOne" data-parent="#accordionExample">
                      <div class="card-body">
                        <textarea class="form-control mt-2" id="htmlResponse" rows="24">{{content }}</textarea>
                      </div>
                    </div>
                </div> 
              </div>
            </div>
          </body>
          
      </div>
    </div>
  </div>
</div>



<!-- To download the report-->
<div class="container">
  <div class="row">
    <!-- Download form -->
    <div class="col">
      <!-- Download button-->
      <button class="btn btn-success my-2 my-sm-0 " type='button' onclick="exportTableToCSV('results.csv')">Download</button>
    </div>
  </div>
</div>

<!--Meta Tags Header-->
<div class="container">
  <div class="row">
    <div class="col">
          <h3 class="display-6">Meta Tags</h3>
    

<div class="card border-success mb-3" style="max-width: auto;">
  <div class="bg-success text-white">
    <div class="card-header">Meta tag tested</div>
  </div>
  <div class="card-body text-primary">
    <h5 class="card-title"></h5>
    <p class="card-text">
      {{meta}}<br>
      {{ title}}<br>
      {{description}}<br>
      {{keywords}}<br>
      {{creator}}<br>
      {{title2}}<br>
      {{dateissued}}<br>
      {{datemodified}}<br>
      {{subject}}<br>
      {{language}}<br>
      {{viewport}}<br>
      {{urlcanonical}}
    </p> 
  </div>
</div>

<div class="card border-success mb-3" style="max-width: auto;">
  <div class="bg-success text-white">
    <div class="card-header">Success</div>
  </div>
  <div class="card-body text-primary">
    <h5 class="card-title"></h5>
    <p class="card-text">
      The validator found no known meta tag errors.<br><br>
 
      For new content:<br>
      You may now proceed with requesting a metadata review with the Search Solutions Unit (SSU).
      <br><br>
      For existing content:<br>
      Please ensure that the values in the meta tags match the values that were provided to you in past metadata reviews. If you have any questions, please contact the Search Solutions Unit (SSU).
      
    </p> 
  </div>
</div>

<div class="card border-danger mb-3" style="max-width: auto;">
  <div class="bg-danger text-white">
  <div class="card-header">Error</div></div>
  <div class="card-body text-primary">
    <h5 class="card-title"></h5>
    <p class="card-text">
      {{error_meta}}<br>
      {{error_title}}<br>
      {{error_description}}<br>
      {{error_keywords}}<br>
      {{error_creator}}<br>
      {{error_title2}}<br>
      {{error_dcterms_issued}}<br>
      {{error_dcterms_modified}}<br>
      {{error_dcterms_subject}}<br>
      {{error_dcterms_language}}<br>
    </p>
  </div>
</div>

<div class="card border-warning mb-3" style="max-width: auto;">
  <div class="bg-warning text-white">
  <div class="card-header">Warning</div></div>
  <div class="card-body text-primary">
    <h5 class="card-title"></h5>
    <p class="card-text">
      {{error_canonical }}<br>
      {{old_title }}<br>
      {{old_dc_title }}<br>
      {{old_dc_description  }}<br>
      {{old_dcterms_description  }}<br>
      {{old_date }}<br>
      {{old_author  }}<br>
      {{old_dc_language  }}<br>
      {{old_dc_subject }}<br>
      {{old_dc_creator }}<br>
      {{old_STCkeywords }}<br>
      {{old_STCtopic }}<br>
      {{old_STCtopicID }}<br>
      {{old_STCsubtopic }}<br>
      {{old_STCsubtopicID }}<br>
      {{old_STCtype }}<br>
      {{old_STCsource }}<br>
      {{old_STCstatus }}<br>
      {{old_STClist }}<br>
      {{old_STCthesaurus }}<br>
      {{old_STCprice }}<br>
      </p>
  </div>
</div>

<div class="card border-primary mb-3" style="max-width: auto;">
  <div class="bg-primary text-white">
  <div class="card-header">Info</div></div>
  <div class="card-body text-primary">
    <h5 class="card-title">For assistance regarding meta tags or search, please email the Search Solutions Unit (SSU) at (STATCAN.F DISS-Search Solutions Unit / DIFF-Sous-section des solutions de recherche Web F.STATCAN).
    </h5>
    <p class="card-text">
      {{error_viewport}}<br>
    </p>
  </div>
</div>



<!--Adobe Analytics Header-->

<h3 class="display-6">Adobe Analytics</h3>


<div class="card border-success mb-3" style="max-width: auto;">
  <div class="bg-success text-white">
  <div class="card-header">Adobe tag tested</div></div>
  <div class="card-body text-primary">
    <h5 class="card-title"></h5>
    <p class="card-text">{{service}}<br>{{accessrights}}<br>{{adobescript}}<br>{{adobeendtag}}</p>
  </div>
</div>

<div class="card border-success mb-3" style="max-width: auto;">
  <div class="bg-success text-white">
  <div class="card-header">Success</div></div>
  <div class="card-body text-primary">
    <h5 class="card-title">The validator found no known Adobe Analytics errors.</h5>
    <p class="card-text"></p>
  </div>
</div>

<div class="card border-danger mb-3" style="max-width: auto;">
  <div class="bg-danger text-white">
  <div class="card-header">Error</div></div>
  <div class="card-body text-primary">
    <h5 class="card-title"></h5>
    <p class="card-text">
      {{error_service}}<br>
      {{error_accessRights}}<br>
      {{error_adobe_third}}<br>
      {{error_adobe_end_tag}}<br>
    </p>
  </div>
</div>

<div class="card border-warning mb-3" style="max-width: auto;">
  <div class="bg-warning text-white">
  <div class="card-header">Warning</div></div>
  <div class="card-body text-primary">
    <h5 class="card-title"></h5>
    <p class="card-text"></p>
  </div>
</div>

<div class="card border-primary mb-3" style="max-width: auto;">
  <div class="bg-primary text-white">
  <div class="card-header">Info</div></div>
  <div class="card-body text-primary">
    <h5 class="card-title">For assistance regarding Adobe Analytics, please email the Web Analytics Unit at (statcan.webanalytics-analytiqueweb.statcan@canada.ca).
    </h5>
    <p class="card-text"></p>
  </div>
</div>

    </div>
  </div>
</div> 




<footer id="wb-info">
  
    <div class="container">
      <div class="row">
        <div class="col">
          <div class="jumbotron jumbotron-fluid text-left mt-4">
            
            <hr class="border border-danger" width="100%"></hr>
            <ul id="gc-tctr" class="links clearfix">
              <li class="first leaf menu-mlid-1676">Instructions</a></li>
              <li class="menu-6703">Disclaimers</a></li>
              <li class="menu-6703">Meta tag Generator</a></li>
              <li class="first leaf menu-mlid-1676"><a href="//www.statcan.gc.ca/eng/reference/refcentre/index?MM=1" title="Contact us">Contact us</a></li>
            </ul>        
            
          </div>
        </div>
      </div>
    </div>
  
</footer>


  <!-- 
  <div class="container">
  <div class="row">
  <div class="col"> 
    <div class="form-group">
  <div id="accordion">
    <div class="card">
      <div class="card-header" id="headingTwo">
        <h5 class="mb-0">
          <button class="btn btn-link collapsed" data-toggle="collapse" data-target="#collapseTwo" aria-expanded="false" aria-controls="collapseTwo">
            Show Tested Code
          </button>
        </h5>
      </div>
      <div id="collapseTwo" class="collapse" aria-labelledby="headingTwo" data-parent="#accordion">
        <div class="card-body">
          <textarea class="form-control mt-2" id="htmlResponse" rows="32">{{ content }}</textarea>
        </div>
      </div>
    </div>
  </div>
</div>
</div>
</div>
</div>
-->

<!--<div class="container">
  <div class="row">
    <div class="col"> 
      <div class="form-group">
        <head>
  <style>
  .accordion {
    background-color: #eee;
    color: #444;
    cursor: pointer;
    padding: 18px;
    width: 100%;
    border: none;
    text-align: left;
    outline: none;
    font-size: 15px;
    transition: 0.4s;
  }
  
  .active, .accordion:hover {
    background-color: #ccc;
  }
  
  .accordion:after {
    content: '&#11208';
    color: #777;
    font-weight: bold;
    float: left;
    margin-left: 5px;
  }
  
  .active:after {
    content: "\&#11208;";
  }
  
  .panel {
    padding: 0 18px;
    background-color: white;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.2s ease-out;
  }
  </style>
  </head>
  <body>
  
  
  <button class="accordion">Show Tested Code</button>
  <div class="panel">
    <textarea class="form-control mt-2" id="htmlResponse" rows="32">{{ content }}</textarea>
  </div>
    
  <script>
  var acc = document.getElementsByClassName("accordion");
  var i;
  
  for (i = 0; i < acc.length; i++) {
    acc[i].addEventListener("click", function() {
      this.classList.toggle("active");
      var panel = this.nextElementSibling;
      if (panel.style.maxHeight) {
        panel.style.maxHeight = null;
      } else {
        panel.style.maxHeight = panel.scrollHeight + "px";
      } 
    });
  }
  </script>
  
  </body>
</div>
</div>
</div>
</div>
-->




{% endblock %}
